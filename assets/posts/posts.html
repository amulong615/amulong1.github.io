<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/x-icon" href="../img/emo-pig.png" />
    <!--==================== UNICONS 图标====================-->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.6/css/line.css"/>
    <!--==================== SWIPER CSS ====================-->
    <link rel="stylesheet" href="../css/swiper-bundle.min.css" />
    <!--==================== CSS ====================-->
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/article.css" />
    <!-- iconfont font class 方式引用图标 -->
    <link rel="stylesheet" href="https://at.alicdn.com/t/c/font_3900458_82z46p85im.css"/>
    <title>文章</title>
  </head>
  
  <body>
    <!--==================== HEADER ====================-->
    <header class="header scroll-header" id="header">
      <nav class="nav container">
        <a href="/index.html" class="nav__logo">阿木龙 &nbsp;&nbsp; A Mulong</a>

        <div class="nav__menu" id="nav-menu">
          <ul class="nav__list grid">
            <li class="nav__item">
              <a href="/index.html#home" class="nav__link">
                <i class="uil uil-estate nav__icon"></i>
                <p i18n="home">主页</p>
              </a>
            </li>
            <li class="nav__item">
              <a href="/index.html#about" class="nav__link">
                <i class="uil uil-user nav__icon"></i>
                <p i18n="about">关于我</p>
              </a>
            </li>
            <li class="nav__item">
              <a href="/index.html#skills" class="nav__link">
                <i class="uil uil-file-alt nav__icon"></i>
                <p i18n="skills">我能做什么</p>
              </a>
            </li>
            <li class="nav__item">
              <a href="/index.html#portfolio" class="nav__link">
                <i class="uil uil-scenery nav__icon"></i>
                <p i18n="portfolio">我的作品</p>
              </a>
            </li>
            <li class="nav__item">
              <a href="/index.html#contact" class="nav__link">
                <i class="uil uil-message nav__icon"></i>
                <p i18n="contact">联系我</p>
              </a>
            </li>
            <!--翻译功能（后续加）
            <li class="nav__item">
              <div class="nav__link" id="translate" value="en">
                <svg class="icon nav__icon-svg" aria-hidden="true">
                  <use xlink:href="#icon-fanyi"></use>
                </svg>
                <a class="=nav__link" id="nav__translate">Translate</a>
              </div>
            </li>
            -->

          </ul>
          <i class="uil uil-times nav__close" id="nav-close"></i>
        </div>

        <div class="nav__btns">
          <i class="uil uil-moon change-theme" id="theme-button"></i>
          <div class="nav__toggle" id="nav-toggle">
            <i class="uil uil-apps"></i>
          </div>
        </div>
      </nav>
    </header>

    <!--==================== MAIN ====================-->
    <main class="main">
      <!--==================== SKILLS ====================-->
      <section class="skills section">
        <h2 class="section__title" i18n="skills__title">文章</h2>
        <span class="section__subtitle" i18n="skills__subtitle">这里收集了我卓有风范的文学作品、随笔和一些碎碎念。</span>
        <div class="posts">
            <div>
                <div class="posts-tag-list"></div>
                <div class="posts-list"></div>
            </div>
        </div>

      </section>
    </main>


    <script id="page-data">
        const PageData = {"posts":
        [
        {"name":"在总复习的日子里学会充实自己——2023 中考宣言","describe":"2023 中考大捷","tags":["#学习","#中考"],"url":"./high-school-exam-oath.html","date":"2023-02-13"},
        {"name":"绪言：乐观的悲观主义者，沉迷在幻想中的世界","describe":"献给郝百合小姐","tags":["#随笔"],"url":"../pages/introduce.html","date":"2023-02-25"},
        ]
    }
    </script>
    <script>
        const $ = (data) => document.querySelectorAll(data);
        let tags = [];
        const CreatePostElement = (post) => {
            const postElement = document.createElement('a');
            postElement.href = post.url;
            postElement.innerHTML = `
                <div>
                    <div class="post-title">${post.name}</div>
                    <div class="post-about">${post.describe}</div>
                </div>
                <div class="post-data">
                    <svg t="1677331984000" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4474" width="18" height="18"><path d="M512 64C264.8 64 64 264.8 64 512s200.8 448 448 448 448-200.8 448-448S759.2 64 512 64z m0 832c-212 0-384-172-384-384s172-384 384-384 384 172 384 384-172 384-384 384z m32-393.6l191.2 110.4-32 55.2L488.8 544H480V256h64v246.4z" p-id="4475" fill="#707070"></path></svg>
                    <span class="post-date">${post.date}</span>
                    <span style="margin-left:20px">
                    <svg t="1677332094555" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5601" width="18" height="18"><path d="M920.528912 444.49616l-340.111125-340.114737a135.932464 135.932464 0 0 0-96.155899-39.758503L200.418112 64.662657h-0.018063C125.275769 64.662657 64.301413 125.40943 64.301413 200.548159v283.673992a136.091412 136.091412 0 0 0 39.881326 96.199248l340.230335 340.241173a136.022775 136.022775 0 0 0 192.369598 0l283.74624-283.76069c53.128139-53.131752 53.128139-139.277583 0-192.405722z m-45.209673 147.192436l-283.746241 283.760691a72.064544 72.064544 0 0 1-101.924964 0l-340.212273-340.241173A72.187367 72.187367 0 0 1 128.241582 484.218538V200.548159A72.021195 72.021195 0 0 1 200.396437 128.602826l283.843776-0.039737a71.887535 71.887535 0 0 1 50.935389 21.053294l340.114737 340.1039a72.104281 72.104281 0 0 1 0.0289 101.968313z" fill="#707070" p-id="5602"></path><path d="M384.002258 255.999097c-70.69543 0-128.003161 57.307731-128.003161 128.003161S313.306828 511.998194 384.002258 511.998194s127.999548-57.307731 127.999548-127.999549S454.690463 255.999097 384.002258 255.999097z m45.296371 173.29592a64.059379 64.059379 0 1 1 18.759396-45.292759 63.640337 63.640337 0 0 1-18.763008 45.292759z" fill="#707070" p-id="5603"></path></svg>
                    </span>
                    <span class="post-tag">${post.tags.join('&nbsp;|&nbsp;')}</span>
                </div>
            `;
            return postElement;
        };
        PageData.posts.forEach((item) => {
            // 在文章列表中插入文章
            const postElement = CreatePostElement(item);
            $('.posts-list')[0].appendChild(postElement);
            // 统计标签
            item.tags.forEach(tagName=>{
                if(!tags.includes(tagName)) tags.push(tagName);
            })
        })
        // 以标签筛选文章
        let currentTag = '';
        tags.forEach(tag=>{
            // 创建标签元素
            const tagElement = document.createElement('span');
            tagElement.innerText = tag;
            tagElement.classList.add('tag');
            tagElement.addEventListener('click', (e) => {
                if (e.target.getAttribute('selected') == null || currentTag == '') {
                    // 清除已有 selected
                    $('.posts-tag-list .tag').forEach((ele) => { if (ele.getAttribute('selected')) { ele.removeAttribute('selected') } });
                    // 选择被点击的 tag
                    e.target.setAttribute("selected", 'on');
                    currentTag = tag;
                } else {
                    // 取消选择
                    e.target.removeAttribute("selected");
                    currentTag = '';
                }
                // 筛选文章并设置在文章列表中显示与否
                $('.posts-list a').forEach((element, index) => {
                    if (PageData.posts[index].tags.includes(tag) || currentTag == '') {
                        element.style.display = 'flex';
                    } else {
                        element.style.display = 'none';
                    }
                });
            });
            $('.posts-tag-list')[0].appendChild(tagElement);
        })
    </script>
    
    <!--==================== FOOTER ====================-->
    <div class="footer" id="footer">
      <div class="jiaozhu">
      <div class="jiaozhu-text">
        <p i18n="banquansm">* 除特别说明外 , 本站内容为阿木龙独立编写。阿木龙拥有本站代码的著作权 , 本站代码受《中华人民共和国著作权法》保护。<br />
        本站内除标注作者为 「阿木龙」 的内容外 , 其余均不代表阿木龙观点。</p>
      </div>
      </div>
    <ul>
      <li class="footer-item">
      <div class="title"><h3 i18n="home">主页</h3></div>
      <div class="content"><a href="#about" i18n="about">关于我</a></div>
      <div class="content"><a href="#skills" i18n="skills">我能做什么</a></div>
      <div class="content"><a href="#portfolio" i18n="portfolio">我的作品</a></div>
      <div class="content"><a href="#" target="_blank" i18n="blog">博客</a></div>
      </li>
  
      <li class="footer-item">
        <div class="title"><h3 i18n="projects">我的项目</h3></div>
        <div class="content"><a href="#" target="_blank" i18n="p-projects">个人项目</a></div>
        <div class="content"><a href="./great-projects.html" target="_blank" i18n="g-projects">优秀项目展示</a></div>
        <div class="content"><a href="#" target="_blank" i18n=""></a></div>
        </li>

        <li class="footer-item">
          <div class="title"><h3 i18n="contact">与我联系</h3></div>
        <div class="content"><a href="#" target="_blank" i18n="myemail">我的邮箱</a></div>
        <div class="content"><a href="https://github.com/amulong615" target="_blank" i18n="mygithub">我的github博客</a></div>
        <div class="content"><a href="https://space.bilibili.com/604139347" target="_blank" i18n="mybilibili">我的哔哩哔哩频道</a></div>
        <div class="content"><a href="./my-wechat.html" target="_blank" i18n="mywechat">私人微信</a></div>
        <div class="content"><a href="#" target="_blank" i18n="friendlink">友情链接</a></div>

          </li>

    </ul>
    <div class="copyright">
    <span class="footer__copy">Copyright&nbsp;&#169;&nbsp;2018-2023<strong i18n="name">&nbsp;阿木龙</strong>.&nbsp; All rights reserved.&nbsp;&nbsp;Created by <a class="footer__copy" href="https://www.youtube.com/c/Bedimcode" target="_blank">Bedimcode.</a>
    </span>
  </div>
    </div>

    <!--==================== SCROLL TOP ====================-->
    <a href="#" class="scrollup" id="scroll-up">
      <i class="uil uil-arrow-up scrollup__icon"></i>
    </a>
    <!--==================== SWIPER JS ====================-->
    <script src="../js/swiper-bundle.min.js"></script>
    <!-- iconfont JS -->
    <script src="../js/iconfont.js"></script>
    <!-- jquery -->
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="../js/jquery.i18n.min.js"></script>
    <!--==================== MAIN JS ====================-->
    <script src="../js/main.js"></script>
  </body>
</html>
